<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <script src="script.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container" style="border: 1px solid #ccc; border-radius: 5px; padding: 15px; background-color: #f9f9f9;">
        <div class="phase-indicator">
            <span id="phase1-indicator" class="active" onclick="goToPhase(1)">1</span>
            <span id="phase2-indicator" onclick="goToPhase(2)">2</span>
            <span id="phase3-indicator" onclick="goToPhase(3)">3</span>
            <span id="phase4-indicator" onclick="goToPhase(4)">4</span>
        </div>

        <!-- Phase 1 -->
        <div id="phase1">
            <h2>Fase 1: Tipo de Dispositivo</h2>
            <label>
                <input type="radio" name="deviceType" value="Usuario" onclick="setDeviceType('Usuario')"> Usuario
            </label>
            <label>
                <input type="radio" name="deviceType" value="Baliza" onclick="setDeviceType('Baliza')"> Baliza
            </label>
            <br>
            <input type="text" id="alias" placeholder="Alias del dispositivo">
            <br>
            <button onclick="nextPhase()">Siguiente</button>
        </div>

        <!-- Phase 2 -->
        <div id="phase2" class="hidden">
            <h2>Fase 2: Selección de Red WiFi</h2>

            <!-- Panel de opciones seleccionables con scroll -->
            <div id="wifiPanel" style="max-height: 200px; overflow-y: auto; border: 1px solid #ccc; padding: 10px;">
                 %s
            </div>
            
            <br>
            <div id="manualNetwork" class="hidden">
                <input type="text" id="manualNetworkName" placeholder="Nombre de la red WiFi">
            </div>
            <br>
            <button onclick="toggleManualNetwork()" id="btnManualNetwork">¿No ves tu red?</button>

            <br>
            <input type="password" id="wifiPassword" placeholder="Contraseña">
            <br>
            <button onclick="previousPhase()">Regresar</button>
            <button onclick="skipNetwork()">Omitir</button>
            <button onclick="nextPhase()">Siguiente</button>
        </div>

        <!-- Phase 3 -->
        <div id="phase3" class="hidden">
            <h2>Fase 3: Configuración de Red</h2>

            <!-- Selector de redes existentes -->
            <div id="existingNetwork">
                <select id="networkList">
                    <option value="">Selecciona una red</option>
                     %s
                </select>
                <br>
                <button onclick="toggleCreateNetwork()">Crear nueva red</button>
            </div>

            <!-- Crear nueva red -->
            <div id="createNetwork" class="hidden">
                <input type="text" id="newNetworkName" placeholder="Nombre de la nueva red">
                <br>
                <button onclick="toggleExistingNetwork()">Usar una red existente</button>
            </div>

            <br>
            <button onclick="previousPhase()">Regresar</button>
            <button onclick="nextPhase()">Siguiente</button>
        </div>

        <!-- Phase 4 -->
        <div id="phase4" class="hidden">
            <h2>Fase 4: Resumen</h2>
            <div id="summary-container" style="border: 1px solid #ccc; border-radius: 5px; padding: 15px; background-color: #f9f9f9;">
                <p id="summary"></p>
            </div>
            <br>
            <button onclick="previousPhase()">Regresar</button>
            <button onclick="submitData()">Enviar</button>
        </div>
    </div>

</body>
</html>